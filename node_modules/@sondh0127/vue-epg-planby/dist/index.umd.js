(function(m,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue"),require("vue-demi")):typeof define=="function"&&define.amd?define(["exports","vue","vue-demi"],a):(m=typeof globalThis<"u"?globalThis:m||self,a(m["vue-epg-planby"]={},m.Vue,m.VueDemi))})(this,function(m,a,v){"use strict";const wn="",Xe={DARK:"dark",LIGHT:"light"},B={DEFAULT:"yyyy-MM-dd HH:mm:ss",DATE:"yyyy-MM-dd",HOURS_MIN:"HH:mm",BASE_HOURS_TIME:"h:mm a"};function C(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function p(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function D(e){p(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function me(e,t){p(2,arguments);var r=D(e),n=C(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Qe(e,t){p(2,arguments);var r=D(e).getTime(),n=C(t);return new Date(r+n)}function Je(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function x(e){p(1,arguments);var t=D(e);return t.setHours(0,0,0,0),t}var Ke=6e4,Ze=36e5;function et(e,t){p(2,arguments);var r=x(e),n=x(t);return r.getTime()===n.getTime()}function tt(e){return p(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rt(e){if(p(1,arguments),!tt(e)&&typeof e!="number")return!1;var t=D(e);return!isNaN(Number(t))}function he(e,t){return p(2,arguments),D(e).getTime()-D(t).getTime()}var ge={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},nt="trunc";function ye(e){return e?ge[e]:ge[nt]}function pe(e,t,r){p(2,arguments);var n=he(e,t)/Ze;return ye(r==null?void 0:r.roundingMethod)(n)}function X(e,t,r){p(2,arguments);var n=he(e,t)/Ke;return ye(r==null?void 0:r.roundingMethod)(n)}var at={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},it=function(e,t,r){var n,i=at[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};const ot=it;function se(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var st={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ut={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ct={date:se({formats:st,defaultWidth:"full"}),time:se({formats:lt,defaultWidth:"full"}),dateTime:se({formats:ut,defaultWidth:"full"})};const dt=ct;var ft={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mt=function(e,t,r,n){return ft[e]};const ht=mt;function z(e){return function(t,r){var n=r||{},i=n.context?String(n.context):"standalone",o;if(i==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,l=n.width?String(n.width):s;o=e.formattingValues[l]||e.formattingValues[s]}else{var u=e.defaultWidth,c=n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[u]}var d=e.argumentCallback?e.argumentCallback(t):t;return o[d]}}var gt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tt=function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Dt={ordinalNumber:Tt,era:z({values:gt,defaultWidth:"wide"}),quarter:z({values:yt,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:z({values:pt,defaultWidth:"wide"}),day:z({values:wt,defaultWidth:"wide"}),dayPeriod:z({values:bt,defaultWidth:"wide",formattingValues:vt,defaultFormattingWidth:"wide"})};const St=Dt;function G(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?Ct(l,function(h){return h.test(s)}):Et(l,function(h){return h.test(s)}),c;c=e.valueCallback?e.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;var d=t.slice(s.length);return{value:c,rest:d}}}function Et(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Ct(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Mt(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;var l=t.slice(i.length);return{value:s,rest:l}}}var _t=/^(\d+)(th|st|nd|rd)?/i,Pt=/\d+/i,Ot={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kt={any:[/^b/i,/^(a|c)/i]},Wt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xt={any:[/1/i,/2/i,/3/i,/4/i]},Nt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},It={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ht={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ut={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bt={ordinalNumber:Mt({matchPattern:_t,parsePattern:Pt,valueCallback:function(e){return parseInt(e,10)}}),era:G({matchPatterns:Ot,defaultMatchWidth:"wide",parsePatterns:kt,defaultParseWidth:"any"}),quarter:G({matchPatterns:Wt,defaultMatchWidth:"wide",parsePatterns:xt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:G({matchPatterns:Nt,defaultMatchWidth:"wide",parsePatterns:It,defaultParseWidth:"any"}),day:G({matchPatterns:Ht,defaultMatchWidth:"wide",parsePatterns:Rt,defaultParseWidth:"any"}),dayPeriod:G({matchPatterns:$t,defaultMatchWidth:"any",parsePatterns:Ut,defaultParseWidth:"any"})},Ft={code:"en-US",formatDistance:ot,formatLong:dt,formatRelative:ht,localize:St,match:Bt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const qt=Ft;function Yt(e,t){p(2,arguments);var r=C(t);return Qe(e,-r)}var Lt=864e5;function At(e){p(1,arguments);var t=D(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/Lt)+1}function Q(e){p(1,arguments);var t=1,r=D(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function we(e){p(1,arguments);var t=D(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Q(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var s=Q(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Vt(e){p(1,arguments);var t=we(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Q(r);return n}var jt=6048e5;function zt(e){p(1,arguments);var t=D(e),r=Q(t).getTime()-Vt(t).getTime();return Math.round(r/jt)+1}function J(e,t){p(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,o=i==null?0:C(i),s=r.weekStartsOn==null?o:C(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=D(e),u=l.getUTCDay(),c=(u<s?7:0)+u-s;return l.setUTCDate(l.getUTCDate()-c),l.setUTCHours(0,0,0,0),l}function be(e,t){p(1,arguments);var r=D(e),n=r.getUTCFullYear(),i=t||{},o=i.locale,s=o&&o.options&&o.options.firstWeekContainsDate,l=s==null?1:C(s),u=i.firstWeekContainsDate==null?l:C(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=new Date(0);c.setUTCFullYear(n+1,0,u),c.setUTCHours(0,0,0,0);var d=J(c,t),h=new Date(0);h.setUTCFullYear(n,0,u),h.setUTCHours(0,0,0,0);var f=J(h,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Gt(e,t){p(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,o=i==null?1:C(i),s=r.firstWeekContainsDate==null?o:C(r.firstWeekContainsDate),l=be(e,t),u=new Date(0);u.setUTCFullYear(l,0,s),u.setUTCHours(0,0,0,0);var c=J(u,t);return c}var Xt=6048e5;function Qt(e,t){p(1,arguments);var r=D(e),n=J(r,t).getTime()-Gt(r,t).getTime();return Math.round(n/Xt)+1}function g(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Jt={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return g(t==="yy"?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):g(r+1,2)},d:function(e,t){return g(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return g(e.getUTCHours()%12||12,t.length)},H:function(e,t){return g(e.getUTCHours(),t.length)},m:function(e,t){return g(e.getUTCMinutes(),t.length)},s:function(e,t){return g(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return g(i,t.length)}};const N=Jt;var V={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kt={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return N.y(e,t)},Y:function(e,t,r,n){var i=be(e,n),o=i>0?i:1-i;if(t==="YY"){var s=o%100;return g(s,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):g(o,t.length)},R:function(e,t){var r=we(e);return g(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return g(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return g(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return g(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return N.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return g(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=Qt(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):g(i,t.length)},I:function(e,t,r){var n=zt(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):g(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):N.d(e,t)},D:function(e,t,r){var n=At(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):g(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return g(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return g(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return g(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n=e.getUTCHours(),i;switch(n===12?i=V.noon:n===0?i=V.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n=e.getUTCHours(),i;switch(n>=17?i=V.evening:n>=12?i=V.afternoon:n>=4?i=V.morning:i=V.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return N.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):N.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):g(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):g(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):N.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):N.s(e,t)},S:function(e,t){return N.S(e,t)},X:function(e,t,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Te(o);case"XXXX":case"XX":return F(o);case"XXXXX":case"XXX":default:return F(o,":")}},x:function(e,t,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(t){case"x":return Te(o);case"xxxx":case"xx":return F(o);case"xxxxx":case"xxx":default:return F(o,":")}},O:function(e,t,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ve(o,":");case"OOOO":default:return"GMT"+F(o,":")}},z:function(e,t,r,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ve(o,":");case"zzzz":default:return"GMT"+F(o,":")}},t:function(e,t,r,n){var i=n._originalDate||e,o=Math.floor(i.getTime()/1e3);return g(o,t.length)},T:function(e,t,r,n){var i=n._originalDate||e,o=i.getTime();return g(o,t.length)}};function ve(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),o=n%60;if(o===0)return r+String(i);var s=t||"";return r+String(i)+s+g(o,2)}function Te(e,t){if(e%60===0){var r=e>0?"-":"+";return r+g(Math.abs(e)/60,2)}return F(e,t)}function F(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),o=g(Math.floor(i/60),2),s=g(i%60,2);return n+o+r+s}const Zt=Kt;function De(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Se(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function er(e,t){var r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return De(e,t);var o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",De(n,t)).replace("{{time}}",Se(i,t))}var tr={p:Se,P:er};const rr=tr;var nr=["D","DD"],ar=["YY","YYYY"];function ir(e){return nr.indexOf(e)!==-1}function or(e){return ar.indexOf(e)!==-1}function Ee(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var sr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ur=/^'([^]*?)'?$/,cr=/''/g,dr=/[a-zA-Z]/;function K(e,t,r){p(2,arguments);var n=String(t),i=r||{},o=i.locale||qt,s=o.options&&o.options.firstWeekContainsDate,l=s==null?1:C(s),u=i.firstWeekContainsDate==null?l:C(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=o.options&&o.options.weekStartsOn,d=c==null?0:C(c),h=i.weekStartsOn==null?d:C(i.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=D(e);if(!rt(f))throw new RangeError("Invalid time value");var M=Je(f),E=Yt(f,M),O={firstWeekContainsDate:u,weekStartsOn:h,locale:o,_originalDate:f},k=n.match(lr).map(function(y){var T=y[0];if(T==="p"||T==="P"){var _=rr[T];return _(y,o.formatLong,O)}return y}).join("").match(sr).map(function(y){if(y==="''")return"'";var T=y[0];if(T==="'")return fr(y);var _=Zt[T];if(_)return!i.useAdditionalWeekYearTokens&&or(y)&&Ee(y,t,e),!i.useAdditionalDayOfYearTokens&&ir(y)&&Ee(y,t,e),_(E,y,o.localize,O);if(T.match(dr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return y}).join("");return k}function fr(e){return e.match(ur)[1].replace(cr,"'")}function Z(e){p(1,arguments);var t=D(e),r=t.getTime();return r}function Ce(e){return p(1,arguments),et(e,Date.now())}function mr(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var r=t&&"nearestTo"in t?C(t.nearestTo):1;if(r<1||r>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var n=D(e),i=n.getSeconds(),o=n.getMinutes()+i/60,s=Math.floor(o/r)*r,l=o%r,u=Math.round(l/r)*r;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),s+u)}function le(){return x(Date.now())}const Me=(e,...t)=>{const r={...e};for(const n of t)delete r[n];return r},ue=e=>new Array(e).fill(""),_e=e=>{const{width:t,height:r,top:n,left:i}=e.position;return{...e,position:{width:t,height:r,top:n,left:i}}},hr=e=>e/24,S=e=>new Date(e),ee=e=>Math.abs(e),Pe=({dayWidth:e,startDate:t,endDate:r})=>{const n=S(t),i=S(r);i<n&&console.error(`Invalid endDate property. Value of endDate must be greater than startDate. Props: startDateTime: ${n}, endDateTime: ${i}`);const o=pe(n,x(n)),s=pe(i,n),l=Math.floor(e/s),u=l*s;return{hourWidth:ee(l),dayWidth:ee(u),numberOfHoursInDay:ee(s),offsetStartHoursRange:ee(o)}},q=e=>new Date(e).getTime(),ce=(e,t)=>{const r=q(new Date),n=q(e),i=q(t);return r>=n&&i>r},I=e=>K(new Date(e),B.DEFAULT).replace(/\s/g,"T"),j=e=>mr(new Date(e)),Oe=(e,t)=>{const r=q(new Date(e));return q(new Date(t))>r},ke=e=>{const t=q(new Date(e)),r=q(new Date);return t>r},gr=(e,t)=>{let r=t;return t===""&&(r=I(x(me(new Date(e),1)))),{startDate:e,endDate:a.ref(r)}};function We(e){return I(x(me(new Date(e),1)))}const te=(e,t)=>e*t/60,H=(e,t,r,n,i)=>{const o=Z(S(t))>Z(S(n)),s=Z(S(e))<Z(S(r));if(s&&o){const u=X(j(S(n)),S(r));return te(u,i)}if(s){const u=X(j(S(t)),S(r));return te(u,i)}if(o){const u=X(S(n),j(S(e)));return u<0?0:te(u,i)}const l=X(j(S(t)),j(S(e)));return te(l,i)},xe=(e,t)=>({top:t*e,height:t}),Ne=(e,t,r,n,i,o)=>{const s={...e,since:I(e.since),till:I(e.till)},l=Oe(s.since,i);let u=H(s.since,s.till,i,o,n);const c=r*t;let d=H(i,s.since,i,o,n);const h=H(i,s.till,i,o,n);return l&&(d=0),c<0&&(u=0),{position:{width:u,height:r,top:c,left:d,edgeEnd:h},data:s}},Ie=({data:e,channels:t,startDate:r,endDate:n,itemHeight:i,hourWidth:o})=>e.map(s=>{const l=t.findIndex(({uuid:u})=>u===s.channelUuid);return Ne(s,l,i,o,r,n)},[]),He=(e,t)=>e.map((r,n)=>({...r,position:xe(n,t)})),Re=(e,t,r,n,i,o)=>e.width<=0||t>e.top+o*3||t+n<=e.top?!1:r+i>=e.left,$e=(e,t,r,n)=>!(t>e.top+n*3||t+r<=e.top);var Ue;const de=typeof window<"u";de&&((Ue=window==null?void 0:window.navigator)==null?void 0:Ue.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Be(e,t){function r(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return r}const yr=e=>e();function pr(e,t={}){let r,n;return o=>{const s=v.unref(e),l=v.unref(t.maxWait);if(r&&clearTimeout(r),s<=0||l!==void 0&&l<=0)return n&&(clearTimeout(n),n=null),o();l&&!n&&(n=setTimeout(()=>{r&&clearTimeout(r),n=null,o()},l)),r=setTimeout(()=>{n&&clearTimeout(n),n=null,o()},s)}}function wr(e,t=!0,r=!0){let n=0,i,o=!0;const s=()=>{i&&(clearTimeout(i),i=void 0)};return u=>{const c=v.unref(e),d=Date.now()-n;if(s(),c<=0)return n=Date.now(),u();d>c&&(r||!o)?(n=Date.now(),u()):t&&(i=setTimeout(()=>{n=Date.now(),o=!0,s(),u()},c)),!r&&!i&&(i=setTimeout(()=>o=!0,c)),o=!1}}function br(e="this function"){if(!v.isVue3)throw new Error(`[VueUse] ${e} is only works on Vue 3.`)}function vr(e){const t=Symbol("InjectionState");return[(...i)=>{v.provide(t,e(...i))},()=>v.inject(t)]}function Fe(e){return v.getCurrentScope()?(v.onScopeDispose(e),!0):!1}function Tr(e,t,{enumerable:r=!1,unwrap:n=!0}={}){br();for(const[i,o]of Object.entries(t))i!=="value"&&(v.isRef(o)&&n?Object.defineProperty(e,i,{get(){return o.value},set(s){o.value=s},enumerable:r}):Object.defineProperty(e,i,{value:o,enumerable:r}));return e}function Dr(e,t=200,r={}){return Be(pr(t,r),e)}function Sr(e,t={}){let r=e,n,i;const o=v.customRef((f,M)=>(n=f,i=M,{get(){return s()},set(E){l(E)}}));function s(f=!0){return f&&n(),r}function l(f,M=!0){var E,O;if(f===r)return;const k=r;((E=t.onBeforeChange)==null?void 0:E.call(t,f,k))!==!1&&(r=f,(O=t.onChanged)==null||O.call(t,f,k),M&&i())}return Tr(o,{get:s,set:l,untrackedGet:()=>s(!1),silentSet:f=>l(f,!1),peek:()=>s(!1),lay:f=>l(f,!1)},{enumerable:!0})}function Y(e){return typeof e=="function"?v.computed(e):v.ref(e)}function qe(e,t=1e3,r={}){const{immediate:n=!0,immediateCallback:i=!1}=r;let o=null;const s=v.ref(!1);function l(){o&&(clearInterval(o),o=null)}function u(){s.value=!1,l()}function c(){v.unref(t)<=0||(s.value=!0,i&&e(),l(),o=setInterval(e,v.unref(t)))}if(n&&de&&c(),v.isRef(t)){const d=v.watch(t,()=>{s.value&&de&&c()});Fe(d)}return Fe(u),{isActive:s,pause:u,resume:c}}var Ye=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,Mr=(e,t)=>{var r={};for(var n in e)Er.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ye)for(var n of Ye(e))t.indexOf(n)<0&&Cr.call(e,n)&&(r[n]=e[n]);return r};function _r(e,t,r={}){const n=r,{eventFilter:i=yr}=n,o=Mr(n,["eventFilter"]);return v.watch(e,Be(i,t),o)}var Pr=Object.defineProperty,Or=Object.defineProperties,kr=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,Le=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,Ve=(e,t,r)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wr=(e,t)=>{for(var r in t||(t={}))Le.call(t,r)&&Ve(e,r,t[r]);if(re)for(var r of re(t))Ae.call(t,r)&&Ve(e,r,t[r]);return e},xr=(e,t)=>Or(e,kr(t)),Nr=(e,t)=>{var r={};for(var n in e)Le.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&re)for(var n of re(e))t.indexOf(n)<0&&Ae.call(e,n)&&(r[n]=e[n]);return r};function Ir(e,t,r={}){const n=r,{throttle:i=0,trailing:o=!0,leading:s=!0}=n,l=Nr(n,["throttle","trailing","leading"]);return _r(e,t,xr(Wr({},l),{eventFilter:wr(i,o,s)}))}const[Hr,Rr]=vr(e=>{const t=Y(e.theme),r=Y(e.sidebarWidth),n=a.ref();return{theme:t,sidebarWidth:r,scrollBoxRef:n}});function R(){const e=Rr();if(e==null)throw new Error("Please call `useProvideEpgStore` on the appropriate parent component");return e}const $r=[a.createElementVNode("div",null,null,-1)],Ur=a.defineComponent({__name:"SideBar",setup(e){const{theme:t,sidebarWidth:r}=R();return(n,i)=>(a.openBlock(),a.createElementBlock("div",{class:"absolute z-900 top-0 left-0",style:a.normalizeStyle({width:`${a.unref(r)}px`,height:`${a.unref(60)}px`,background:`${a.unref(t).primary[900]}`})},$r,4))}}),W=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},Br=W(Ur,[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/SideBar.vue"]]),Fr=[a.createElementVNode("svg",{class:"animate-spin mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[a.createElementVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a.createElementVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a.createTextVNode(" Processing... ")],qr=W(a.defineComponent({__name:"Loader",setup(e){const{theme:t}=R();return(r,n)=>(a.openBlock(),a.createElementBlock("div",{class:"z-1000 absolute inset-0 flex items-center justify-center",style:a.normalizeStyle({background:`${a.unref(t).loader.bg}`,color:`${a.unref(t).white}`})},Fr,4))}}),[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Loader.vue"]]),Yr={class:"h-full w-full flex flex-col relative rounded overflow-hidden"},Lr=W(a.defineComponent({__name:"Epg",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},isSidebar:{type:Boolean,required:!0},isTimeline:{type:Boolean,required:!1},isLoading:{type:Boolean,required:!1},theme:{type:null,required:!0},sidebarWidth:{type:Number,required:!0},setContainerRef:{type:Function,required:!0}},setup(e){return(t,r)=>(a.openBlock(),a.createElementBlock("div",{ref:n=>e.setContainerRef(n),style:a.normalizeStyle({width:e.width?`${e.width}px`:"100%",height:e.height?`${e.height}px`:"100%"})},[a.createElementVNode("div",Yr,[e.isSidebar&&e.isTimeline?(a.openBlock(),a.createBlock(Br,{key:0})):a.createCommentVNode("v-if",!0),e.isLoading?a.renderSlot(t.$slots,"loader",{key:1},()=>[a.createVNode(qr)]):a.createCommentVNode("v-if",!0),a.renderSlot(t.$slots,"default")])],4))}}),[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/Epg.vue"]]),Ar=W(a.defineComponent({__name:"Line",props:{height:{type:Number,required:!0},startDate:{type:null,required:!0},endDate:{type:null,required:!0},dayWidth:{type:Number,required:!0},hourWidth:{type:Number,required:!0},sidebarWidth:{type:Number,required:!0}},setup(e){const t=e;function r({startDate:h,endDate:f,dayWidth:M,hourWidth:E,sidebarWidth:O}){const k=H(x(new Date(h.value)),new Date,h.value,f.value,E.value)+O.value,y=a.ref(k),T=a.computed(()=>y.value<=M.value),_=a.computed(()=>T.value?12e4:void 0);return qe(()=>{const w=E.value/60*2;y.value+=w},_),a.watchEffect(()=>{const $=H(x(new Date(h.value)),new Date,h.value,f.value,E.value)+O.value;y.value=$}),{positionX:y}}const{startDate:n,endDate:i,dayWidth:o,hourWidth:s,sidebarWidth:l}=a.toRefs(t),{positionX:u}=r({startDate:n,endDate:i,dayWidth:o,hourWidth:s,sidebarWidth:l}),c=new Date(t.startDate),{theme:d}=R();return(h,f)=>a.unref(Ce)(a.unref(c))?(a.openBlock(),a.createElementBlock("div",{key:0,class:"absolute top-64px w-3px pointer-events-none z-100",style:a.normalizeStyle({height:`${e.height}px`,left:`${a.unref(u)}px`,background:`${a.unref(d).green[300]}`})},null,4)):a.createCommentVNode("v-if",!0)}}),[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Line.vue"]]);function Vr({program:e,isBaseTimeFormat:t,minWidth:r=200}){const{data:n,position:i}=e.value,{width:o}=i,{since:s,till:l}=n,u=a.ref(ce(s,l)),c=(f,M=B.HOURS_MIN)=>K(new Date(f),M).replace(/\s/g,""),d=()=>t.value?B.BASE_HOURS_TIME:B.HOURS_MIN;qe(()=>{const f=ce(s,l);u.value=f},12e4);const h=o>r;return{format12HoursTime:f=>c(f,d()),isLive:u,isMinWidth:h,styles:a.computed(()=>{const f=Me(e.value.position,"egdeEnd");return{width:o,position:{width:`${f.width}px`,height:`${f.height}px`,top:`${f.top}px`,left:`${f.left}px`}}})}}function jr(e,t){const r=a.computed(()=>ue(e.value)),n=ue(4);return{times:r,dividers:n,formatTimelineTime:o=>{const s=new Date,l=K(s,B.DATE),u=o<10?`0${o}`:o;if(t.value){const c=new Date(`${l}T${u}:00:00`);return K(c,B.BASE_HOURS_TIME).toLowerCase().replace(/\s/g,"")}return`${u}:00`}}}const zr={class:"h-full w-full grid grid-cols-4 items-end pb-6px"},Gr={class:"text-14px relative"},Xr={class:"h-full w-full grid grid-cols-4 items-end pb-6px"},Qr=W(a.defineComponent({__name:"Timeline",props:{isBaseTimeFormat:{type:null,required:!0},isSidebar:{type:Boolean,required:!0},dayWidth:{type:Number,required:!0},hourWidth:{type:Number,required:!0},numberOfHoursInDay:{type:Number,required:!0},offsetStartHoursRange:{type:Number,required:!0},sidebarWidth:{type:Number,required:!0}},setup(e){const t=e,{theme:r}=R(),n=jr(a.toRef(t,"numberOfHoursInDay"),a.toRef(t,"isBaseTimeFormat")),{times:i,dividers:o,formatTimelineTime:s}=n;return console.log("[LOG] ~ file: Timeline.vue ~ line 25 ~ times",i),(l,u)=>(a.openBlock(),a.createElementBlock("div",{class:"sticky top-0 z-100 flex",style:a.normalizeStyle({left:`${e.isSidebar?e.sidebarWidth:0}px`,height:`${a.unref(80)-20}px`,width:`${e.dayWidth}px`,background:`${a.unref(r).primary[900]}`})},[(a.openBlock(!0),a.createElementBlock(a.Fragment,null,a.renderList(a.unref(i),(c,d)=>a.renderSlot(l.$slots,"timeline",a.normalizeProps(a.mergeProps({key:d},{index:d,dividers:a.unref(o),formatTimelineTime:a.unref(s),offsetStartHoursRange:e.offsetStartHoursRange,hourWidth:e.hourWidth,theme:a.unref(r)})),()=>[a.createElementVNode("div",{class:"text-14px relative",style:a.normalizeStyle({width:`${e.hourWidth}px`})},[a.createElementVNode("div",{class:"absolute top-18px",style:a.normalizeStyle({color:`${a.unref(r).text.grey[300]}`,left:`${d===0?0:-18}px`})},a.toDisplayString(a.unref(s)(d+e.offsetStartHoursRange)),5),a.createElementVNode("div",zr,[(a.openBlock(!0),a.createElementBlock(a.Fragment,null,a.renderList(a.unref(o),(h,f)=>(a.openBlock(),a.createElementBlock("div",{key:f,style:a.normalizeStyle({background:`${a.unref(r).timeline.divider.bg}`,height:"10px",width:"1px",marginRight:`${e.hourWidth}px`})},null,4))),128))])],4)])),128)),a.renderSlot(l.$slots,"timeline-last",a.normalizeProps(a.guardReactiveProps({theme:a.unref(r),formatTimelineTime:a.unref(s),times:a.unref(i),offsetStartHoursRange:e.offsetStartHoursRange})),()=>[a.createElementVNode("div",Gr,[a.createElementVNode("div",{class:"absolute top-18px -translate-x-100%",style:a.normalizeStyle({color:`${a.unref(r).text.grey[300]}`,left:`${0}px`})},a.toDisplayString(a.unref(s)(a.unref(i).length+e.offsetStartHoursRange)),5),a.createElementVNode("div",Xr,[a.createElementVNode("div",{style:a.normalizeStyle({background:`${a.unref(r).timeline.divider.bg}`,height:"10px",width:"1px"})},null,4)])])])],4))}}),[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Timeline.vue"]]),Jr=["src"],Kr=W(a.defineComponent({__name:"Channel",props:{channel:{type:null,required:!0}},emits:["click"],setup(e,{emit:t}){const{theme:r}=R();return(n,i)=>(a.openBlock(),a.createElementBlock("div",{"data-testid":"sidebar-item",class:"absolute flex items-center justify-center",style:a.normalizeStyle({top:`${e.channel.position.top}px`,height:`${e.channel.position.height}px`,width:"100%",backgroundColor:`${a.unref(r).primary[900]}`}),onClick:i[0]||(i[0]=o=>t("click",e.channel))},[a.renderSlot(n.$slots,"channel",a.normalizeProps(a.guardReactiveProps({channel:e.channel,theme:a.unref(r)})),()=>[a.createElementVNode("img",{src:e.channel.logo,class:"max-h-60px max-w-60px relative"},null,8,Jr)])],4))}}),[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Channel.vue"]]),Zr=W(a.defineComponent({__name:"Channels",props:{channels:{type:Array,required:!0},scrollY:{type:Number,required:!0},sidebarWidth:{type:Number,required:!0},isTimeline:{type:Boolean,required:!0},isChannelVisible:{type:Function,required:!0}},emits:["click"],setup(e,{emit:t}){const r=e,{theme:n}=R(),i=a.computed(()=>r.channels.filter(o=>r.isChannelVisible(o)));return(o,s)=>(a.openBlock(),a.createElementBlock("div",{"data-testid":"sidebar",class:"sticky float-left",style:a.normalizeStyle({width:`${e.sidebarWidth}px`,bottom:`${e.scrollY}px`,left:0,zIndex:100,backgroundColor:`${a.unref(n).primary[900]}`})},[(a.openBlock(!0),a.createElementBlock(a.Fragment,null,a.renderList(a.unref(i),l=>(a.openBlock(),a.createBlock(Kr,{key:l.uuid,channel:l,onClick:s[0]||(s[0]=u=>t("click",u))},{channel:a.withCtx(u=>[a.renderSlot(o.$slots,"channel",a.normalizeProps(a.guardReactiveProps(u)))]),_:2},1032,["channel"]))),128))],4))}}),[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Channels.vue"]]),en={class:"flex w-full justify-start"},tn=["src"],rn={class:"overflow-hidden"},nn=a.defineComponent({__name:"Program",props:{program:{type:null,required:!0},isBaseTimeFormat:{type:null,required:!0}},emits:["click"],setup(e,{emit:t}){const r=e;a.useCssVars(d=>({"dc18c6b7-theme_primary_600_":a.unref(c).primary[600],"dc18c6b7-theme_gradient_blue_900_":a.unref(c).gradient.blue[900],"dc18c6b7-theme_gradient_blue_600_":a.unref(c).gradient.blue[600],"dc18c6b7-theme_gradient_blue_300_":a.unref(c).gradient.blue[300]}));const n=a.computed(()=>r.program.data),i=Vr({program:a.toRef(r,"program"),isBaseTimeFormat:a.toRef(r,"isBaseTimeFormat")}),{styles:o,format12HoursTime:s,isLive:l,isMinWidth:u}=i,{theme:c}=R();return(d,h)=>(a.openBlock(),a.createElementBlock("div",{"data-testid":"program-item",class:"absolute overflow-hidden",style:a.normalizeStyle({...a.unref(o).position,padding:`${a.unref(o).width===0?0:4}px`}),onClick:h[0]||(h[0]=f=>t("click",a.unref(n)))},[a.renderSlot(d.$slots,"program",a.mergeProps({...a.unref(i),theme:a.unref(c)},{data:a.unref(n)}),()=>[a.createElementVNode("div",{"data-testid":"program-content",class:a.normalizeClass(["program-item cursor-pointer relative flex text-11px h-full rounded-8px overflow-hidden transition-all duration-400 ease-in-out z-1",{"is-live":a.unref(l)}]),style:a.normalizeStyle({padding:`10px ${a.unref(o).width<30?4:20}px`})},[a.createElementVNode("div",en,[a.unref(l)&&a.unref(u)?(a.openBlock(),a.createElementBlock("img",{key:0,class:"mr-15px rounded-6px w-100px",src:a.unref(n).image,alt:"Preview"},null,8,tn)):a.createCommentVNode("v-if",!0),a.createElementVNode("div",rn,[a.createElementVNode("div",{class:"text-14px font-medium text-left mt-0 mb-5px truncate",style:a.normalizeStyle({color:`${a.unref(c).grey[300]}`})},a.toDisplayString(a.unref(n).title),5),a.createElementVNode("div",{class:"block text-12.5px font-normal text-left truncate",style:a.normalizeStyle({color:`${a.unref(c).text.grey[500]}`}),"aria-label":"program time"},a.toDisplayString(a.unref(s)(a.unref(n).since))+" -"+a.toDisplayString(" ")+" "+a.toDisplayString(a.unref(s)(a.unref(n).till)),5)])])],6)])],4))}}),Bn="",an=W(nn,[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Program.vue"]]),on=a.defineComponent({__name:"Layout",props:{programs:{type:Array,required:!0},channels:{type:Array,required:!0},startDate:{type:null,required:!0},endDate:{type:null,required:!0},scrollY:{type:Number,required:!0},dayWidth:{type:Number,required:!0},hourWidth:{type:Number,required:!0},numberOfHoursInDay:{type:Number,required:!0},offsetStartHoursRange:{type:Number,required:!0},sidebarWidth:{type:Number,required:!0},itemHeight:{type:Number,required:!0},onScroll:{type:Function,required:!0},isBaseTimeFormat:{type:null,required:!1,default:!1},isSidebar:{type:Boolean,required:!1,default:!0},isTimeline:{type:Boolean,required:!1,default:!0},isLine:{type:Boolean,required:!1,default:!0},isProgramVisible:{type:Function,required:!0},isChannelVisible:{type:Function,required:!0},setScrollBoxRef:{type:Function,required:!0}},emits:["channel-click","program-click"],setup(e,{emit:t}){const r=e;a.useCssVars(u=>({"92676bd7-theme_scrollbar_thumb_bg":a.unref(s).scrollbar.thumb.bg,"92676bd7-theme_white":a.unref(s).white,"92676bd7-theme_primary__900__":a.unref(s).primary[900]}));const n=a.computed(()=>r.channels.length),i=a.computed(()=>n.value*r.itemHeight),o=a.computed(()=>ke(r.endDate)),{theme:s}=R(),l=a.computed(()=>r.programs.filter(u=>r.isProgramVisible(u.position)));return(u,c)=>(a.openBlock(),a.createElementBlock("div",{ref:d=>e.setScrollBoxRef(d),class:"w-full h-full relative overflow-auto scroll-smooth scrollbox",style:a.normalizeStyle({background:`${a.unref(s).primary[900]}`}),onScroll:c[1]||(c[1]=(...d)=>e.onScroll&&e.onScroll(...d))},[e.isLine&&a.unref(o)?(a.openBlock(),a.createBlock(Ar,{key:0,"day-width":e.dayWidth,"hour-width":e.hourWidth,"start-date":e.startDate,"sidebar-width":e.sidebarWidth,"end-date":e.endDate,height:a.unref(i)},null,8,["day-width","hour-width","start-date","sidebar-width","end-date","height"])):a.createCommentVNode("v-if",!0),e.isTimeline?(a.openBlock(),a.createBlock(Qr,{key:1,"is-base-time-format":e.isBaseTimeFormat,"is-sidebar":e.isSidebar,"day-width":e.dayWidth,"hour-width":e.hourWidth,"number-of-hours-in-day":e.numberOfHoursInDay,"offset-start-hours-range":e.offsetStartHoursRange,"sidebar-width":e.sidebarWidth},{timeline:a.withCtx(d=>[a.renderSlot(u.$slots,"timeline",a.normalizeProps(a.guardReactiveProps(d)))]),"timeline-last":a.withCtx(d=>[a.renderSlot(u.$slots,"timeline-last",a.normalizeProps(a.guardReactiveProps(d)))]),_:3},8,["is-base-time-format","is-sidebar","day-width","hour-width","number-of-hours-in-day","offset-start-hours-range","sidebar-width"])):a.createCommentVNode("v-if",!0),e.isSidebar?(a.openBlock(),a.createBlock(Zr,{key:2,"sidebar-width":e.sidebarWidth,"is-timeline":e.isTimeline,"is-channel-visible":e.isChannelVisible,channels:e.channels,"scroll-y":e.scrollY,onClick:c[0]||(c[0]=d=>t("channel-click",d))},{channel:a.withCtx(d=>[a.renderSlot(u.$slots,"channel",a.normalizeProps(a.guardReactiveProps(d)))]),_:3},8,["sidebar-width","is-timeline","is-channel-visible","channels","scroll-y"])):a.createCommentVNode("v-if",!0),a.createElementVNode("div",{"data-testid":"content",class:"relative",style:a.normalizeStyle({background:`${a.unref(s).primary[900]}`,height:`${a.unref(i)}px`,width:`${e.dayWidth}px`,left:`${e.isSidebar?e.sidebarWidth:0}px`})},[(a.openBlock(!0),a.createElementBlock(a.Fragment,null,a.renderList(a.unref(l),d=>(a.openBlock(),a.createBlock(an,{key:d.data.id,program:a.unref(_e)(d),"is-base-time-format":e.isBaseTimeFormat,"is-program-visible":e.isProgramVisible,onClick:h=>t("program-click",h)},{program:a.withCtx(h=>[a.renderSlot(u.$slots,"program",a.normalizeProps(a.guardReactiveProps(h)))]),_:2},1032,["program","is-base-time-format","is-program-visible","onClick"]))),128))],4)],36))}}),Fn="",sn=W(on,[["__file","/Users/thudojsc/Dev/vue-epg-planby/src/Epg/components/Layout.vue"]]),ln={primary:{600:"#1a202c",900:"#171923"},grey:{300:"#d1d1d1"},white:"#fff",green:{300:"#2C7A7B"},loader:{teal:"#5DDADB",purple:"#3437A2",pink:"#F78EB6",bg:"#171923db"},scrollbar:{border:"#ffffff",thumb:{bg:"#e1e1e1"}},gradient:{blue:{300:"#002eb3",600:"#002360",900:"#051937"}},text:{grey:{300:"#a0aec0",500:"#718096"}},timeline:{divider:{bg:"#718096"}}};function un({height:e,width:t,startDate:r,endDate:n,hourWidth:i,sidebarWidth:o}){const s=a.ref(null),l=a.ref(null),u=a.ref(0),c=a.ref(0),d=Sr(0),h=a.ref(t),f=a.ref(e),M=a.computed(()=>Ce(new Date(r.value))),E=w=>{var P;const b={y:w.target.scrollTop,x:w.target.scrollLeft};u.value=b.y,c.value=b.x;const U=((t!=null?t:(P=s.value)==null?void 0:P.clientWidth)-o.value)/2;d.silentSet((b.x+U)/i.value)},O=()=>{var w;if((l==null?void 0:l.value)&&M.value){const b=t!=null?t:(w=s.value)==null?void 0:w.clientWidth,L=new Date,P=H(le(),L,r.value,n.value,i.value)-b/2+o.value;l.value.scrollLeft=P}},k=()=>{var ie,oe;const L=((t!=null?t:(ie=s.value)==null?void 0:ie.clientWidth)-o.value)/2/i.value,U=d.untrackedGet()-L,P=new Date(r.value),ne=Math.floor(U),ae=U-ne;P.setHours(ne),P.setMinutes(Math.round(ae*60));const fe=H(le(),P,r.value,n.value,i.value);(oe=l.value)==null||oe.scrollTo({left:fe,behavior:"auto"})};Ir([i],()=>{k()},{throttle:500,trailing:!0,leading:!0});const y=(w=i.value)=>{if(l!=null&&l.value){const b=l.value.scrollTop+w;l.value.scrollTop=b}},T=(w=i.value)=>{if(l!=null&&l.value){const b=l.value.scrollLeft+w;l.value.scrollLeft=b}},_=(w=i.value)=>{if(l!=null&&l.value){const b=l.value.scrollLeft-w;l.value.scrollLeft=b}},$=Dr(()=>{if((s==null?void 0:s.value)&&!t){const w=s.value,{clientWidth:b}=w;h.value=b}},100*4,{maxWait:100*4});return a.watchEffect(()=>{if(s!=null&&s.value){const w=s.value;if(!t){const{clientWidth:b}=w;h.value=b}if(!e){const{clientHeight:b}=w;f.value=b}}}),a.onMounted(()=>{window.addEventListener("resize",$)}),a.onBeforeUnmount(()=>{window.removeEventListener("resize",$)}),{containerRef:s,scrollBoxRef:l,scrollX:c,scrollY:u,layoutWidth:h,layoutHeight:f,onScroll:E,onScrollToNow:O,onScrollTop:y,onScrollLeft:_,onScrollRight:T}}const je=I(le());function cn({channels:e,epg:t,startDate:r=je,endDate:n=We(je),isBaseTimeFormat:i=a.ref(!1),isSidebar:o=a.ref(!0),isTimeline:s=a.ref(!0),isLine:l=!0,theme:u,dayWidth:c=a.ref(7200),sidebarWidth:d=a.ref(100),itemHeight:h=a.ref(80),itemOverscan:f=80,width:M,height:E}){const O=Y(e),k=Y(t),y=Y(r),T=Y(n),_=a.computed(()=>Pe({dayWidth:c.value,startDate:y.value,endDate:T.value})),$=a.computed(()=>_.value.hourWidth),{containerRef:w,scrollBoxRef:b,...L}=un({startDate:y,endDate:T,sidebarWidth:d,width:M,height:E,hourWidth:$}),{scrollX:U,scrollY:P,layoutWidth:ne,layoutHeight:ae}=L,{onScroll:fe,onScrollToNow:ie,onScrollTop:oe,onScrollLeft:dn,onScrollRight:fn}=L,ze=a.computed(()=>He(O.value,h.value)),mn=a.computed(()=>Ie({data:k.value,channels:ze.value,startDate:I(y.value),endDate:I(T.value),itemHeight:h.value,hourWidth:$.value})),Ge=Y(u||ln),hn=A=>Re(A,P.value,U.value,ae.value,ne.value,f),gn=A=>$e(A,P.value,ae.value,f),yn=()=>({width:M,height:E,isSidebar:o.value,isTimeline:s.value,sidebarWidth:d.value,theme:a.unref(Ge),setContainerRef:A=>w.value=A}),pn=()=>({programs:mn.value,channels:ze.value,startDate:y.value,endDate:T.value,scrollY:P.value,onScroll:fe,isBaseTimeFormat:i.value,isSidebar:o.value,isTimeline:s.value,isLine:l,isProgramVisible:hn,isChannelVisible:gn,sidebarWidth:d.value,itemHeight:h.value,hourWidth:_.value.hourWidth,dayWidth:_.value.dayWidth,numberOfHoursInDay:_.value.numberOfHoursInDay,offsetStartHoursRange:_.value.offsetStartHoursRange,setScrollBoxRef:A=>b.value=A});return Hr({theme:Ge,sidebarWidth:d}),{getEpgProps:yn,getLayoutProps:pn,onScrollToNow:ie,onScrollTop:oe,onScrollLeft:dn,onScrollRight:fn,scrollY:P,scrollX:U}}m.DAY_WIDTH=7200,m.DEBOUNCE_WAIT=100,m.DEBOUNCE_WAIT_MAX=100,m.Epg=Lr,m.HOURS_IN_DAY=24,m.HOUR_IN_MINUTES=60,m.ITEM_HEIGHT=80,m.ITEM_OVERSCAN=80,m.Layout=sn,m.PROGRAM_REFRESH=12e4,m.SIDEBAR_WIDTH=100,m.THEME_MODE=Xe,m.TIMELINE_HEIGHT=60,m.TIME_FORMAT=B,m.formatTime=I,m.generateArray=ue,m.getChannelPosition=xe,m.getConvertedChannels=He,m.getConvertedPrograms=Ie,m.getDate=S,m.getDayWidthResources=Pe,m.getDefaultEndDate=We,m.getHourWidth=hr,m.getItemVisibility=Re,m.getLiveStatus=ce,m.getPositionX=H,m.getProgramOptions=_e,m.getProgramPosition=Ne,m.getSidebarItemVisibility=$e,m.getTimeRangeDates=gr,m.isFutureTime=ke,m.isYesterday=Oe,m.omit=Me,m.roundToMinutes=j,m.useEpg=cn,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
