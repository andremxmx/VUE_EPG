"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t,n=require("@emotion/react"),r=e(require("@emotion/styled/base")),i=require("react"),o=e(i),a=require("date-fns"),s=require("use-debounce");function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function d(e,t){return t||(t=e.slice(0)),e.raw=t,e}var c,h=n.css(t||(t=d(['\n  @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Work+Sans:ital,wght@0,200;0,400;0,500;0,600;1,300&display=swap");\n\n  /*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */\n\n  /*\nDocument\n========\n*/\n\n  /**\nUse a better box model (opinionated).\n*/\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n  }\n\n  /**\n1. Correct the line height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size (opinionated).\n*/\n\n  html {\n    line-height: 1.15; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n    -moz-tab-size: 4; /* 3 */\n    tab-size: 4; /* 3 */\n  }\n\n  /*\nSections\n========\n*/\n\n  /**\n1. Remove the margin in all browsers.\n2. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n*/\n\n  body {\n    margin: 0; /* 1 */\n    font-family: "Inter", system-ui, -apple-system,\n      /* Firefox supports this but not yet system-ui */ "Segoe UI", Roboto,\n      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"; /* 2 */\n  }\n\n  /*\nGrouping content\n================\n*/\n\n  /**\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n*/\n\n  hr {\n    height: 0; /* 1 */\n    color: inherit; /* 2 */\n  }\n\n  /*\nText-level semantics\n====================\n*/\n\n  /**\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\n  abbr[title] {\n    text-decoration: underline dotted;\n  }\n\n  /**\nAdd the correct font weight in Edge and Safari.\n*/\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  /**\n1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n2. Correct the odd \'em\' font sizing in all browsers.\n*/\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace, SFMono-Regular, Consolas, "Liberation Mono",\n      Menlo, monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n\n  /**\nAdd the correct font size in all browsers.\n*/\n\n  small {\n    font-size: 80%;\n  }\n\n  /**\nPrevent \'sub\' and \'sup\' elements from affecting the line height in all browsers.\n*/\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  /*\nTabular data\n============\n*/\n\n  /**\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n*/\n\n  table {\n    text-indent: 0; /* 1 */\n    border-color: inherit; /* 2 */\n  }\n\n  /*\nForms\n=====\n*/\n\n  /**\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n*/\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit; /* 1 */\n    font-size: 100%; /* 1 */\n    line-height: 1.15; /* 1 */\n    margin: 0; /* 2 */\n  }\n\n  /**\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\n  button,\n  select {\n    text-transform: none;\n  }\n\n  /**\nCorrect the inability to style clickable types in iOS and Safari.\n*/\n\n  button,\n  [type="button"],\n  [type="reset"],\n  [type="submit"] {\n    -webkit-appearance: button;\n  }\n\n  /**\nRemove the inner border and padding in Firefox.\n*/\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  /**\nRestore the focus styles unset by the previous rule.\n*/\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  /**\nRemove the additional \':invalid\' styles in Firefox.\nSee: https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737\n*/\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  /**\nRemove the padding so developers are not caught out when they zero out \'fieldset\' elements in all browsers.\n*/\n\n  legend {\n    padding: 0;\n  }\n\n  /**\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  /**\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  /**\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n  [type="search"] {\n    -webkit-appearance: textfield; /* 1 */\n    outline-offset: -2px; /* 2 */\n  }\n\n  /**\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  /**\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to \'inherit\' in Safari.\n*/\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n\n  /*\nInteractive\n===========\n*/\n\n  /*\nAdd the correct display in Chrome and Safari.\n*/\n\n  summary {\n    display: list-item;\n  }\n']))),f=r("div",{target:"e1ra9c6c4"})("padding:5px;height:",(function(e){var t=e.height;return t?t+"px":"100%"}),";width:",(function(e){var t=e.width;return t?t+"px":"100%"}),";"),m=r("div",{target:"e1ra9c6c3"})({name:"qjsha7",styles:"height:100%;width:100%;display:flex;flex-direction:column;position:relative;border-radius:6px;overflow:hidden"}),p=r("div",{target:"e1ra9c6c2"})("height:100%;width:100%;position:relative;overflow:auto;scroll-behavior:smooth;background:",(function(e){return e.theme.primary[900]}),";::-webkit-scrollbar{width:10px;height:10px;}::-webkit-scrollbar-thumb{background:",(function(e){return e.theme.scrollbar.thumb.bg}),";border:10px none ",(function(e){return e.theme.white}),";border-radius:20px;}::-webkit-scrollbar-thumb:hover{background:",(function(e){return e.theme.white}),";}::-webkit-scrollbar-track{background:",(function(e){return e.theme.primary[900]}),";border:22px none ",(function(e){return e.theme.white}),";border-radius:0px;}::-webkit-scrollbar-corner{background:",(function(e){return e.theme.primary[900]}),";}"),g=r("div",{target:"e1ra9c6c1"})("position:absolute;height:",(function(e){return e.height}),"px;width:",(function(e){return e.width}),"px;top:",(function(e){var t=e.top;return void 0===t?0:t}),"px;left:",(function(e){var t=e.left;return void 0===t?0:t}),"px;background:",(function(e){return e.theme.primary[900]}),";z-index:900;"),b=r("div",{target:"e1ra9c6c0"})("background:",(function(e){return e.theme.primary[900]}),";height:",(function(e){return e.height}),"px;width:",(function(e){return e.width}),"px;position:relative;left:",(function(e){return e.isSidebar?e.sidebarWidth:0}),"px;"),v=r("div",{target:"e1dhe7bi0"})("position:sticky;width:",(function(e){return e.width}),"px;float:left;bottom:",(function(e){return e.bottom}),"px;left:0;z-index:100;background-color:",(function(e){return e.theme.primary[900]}),";"),x=r("div",{target:"edhgbii1"})("position:absolute;top:",(function(e){return e.top}),"px;height:",(function(e){return e.height}),"px;width:100%;display:flex;align-items:center;justify-content:center;background-color:",(function(e){return e.theme.primary[900]}),";"),y=r("img",{target:"edhgbii0"})({name:"vfop22",styles:"max-height:60px;max-width:60px;position:relative"}),w=r("div",{target:"e1f8qikj6"})("position:absolute;padding:",(function(e){return 0===e.width?0:4}),"px;overflow:hidden;"),k=r("div",{target:"e1f8qikj5"})("position:relative;display:flex;font-size:11px;height:100%;border-radius:8px;padding:10px ",(function(e){return e.width<30?4:20}),"px;overflow:hidden;cursor:pointer;transition:all 0.4s ease-in-out;z-index:1;background:",(function(e){var t=e.theme.primary;return"linear-gradient(to right, "+t[600]+", "+t[600]+")"}),";&:hover{background:",(function(e){var t=e.theme.gradient;return"linear-gradient(to right, "+t.blue[900]+", "+t.blue[600]+")"}),";}",(function(e){var t=e.theme.gradient;return e.isLive&&"background: linear-gradient(to right, "+t.blue[900]+", "+t.blue[600]+","+t.blue[300]+")"}),";"),D=r("div",{target:"e1f8qikj4"})({name:"6wjsds",styles:"width:100%;display:flex;justify-content:flex-start"}),S="\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n",T=r("p",{target:"e1f8qikj3"})("font-size:14px;font-weight:400;text-align:left;margin-top:0;margin-bottom:5px;font-weight:500;color:",(function(e){return e.theme.grey[300]}),";",S,";"),W=r("span",{target:"e1f8qikj2"})("display:block;font-size:12.5px;font-weight:400;color:",(function(e){return e.theme.text.grey[500]}),";text-align:left;",S,";"),E=r("img",{target:"e1f8qikj1"})({name:"1azmhcm",styles:"margin-right:15px;border-radius:6px;width:100px"}),C=r("div",{target:"e1f8qikj0"})({name:"d3v9zr",styles:"overflow:hidden"}),z=function(e){return new Array(e).fill("")},R=function(){return"undefined"!=typeof window?i.useLayoutEffect:i.useEffect},L=function(e){return new Date(e)},j=function(e){return Math.abs(e)},H=function(e){return new Date(e).getTime()},O=function(e,t){var n=H(new Date),r=H(e),i=H(t);return n>=r&&i>n},F=function(e){return a.format(new Date(e),"yyyy-MM-dd HH:mm:ss").replace(/\s/g,"T")},I=function(e){return a.roundToNearestMinutes(new Date(e))},B=function(e,t){return e*t/60},M=function(e,t,n,r,i){var o=a.getTime(L(t))>a.getTime(L(r)),s=a.getTime(L(e))<a.getTime(L(n));if(s&&o){var l=a.differenceInMinutes(I(L(r)),L(n));return B(l,i)}if(s){var u=a.differenceInMinutes(I(L(t)),L(n));return B(u,i)}if(o){var d=a.differenceInMinutes(L(r),I(L(e)));return d<0?0:B(d,i)}var c=a.differenceInMinutes(I(L(t)),I(L(e)));return B(c,i)},P=function(e,t){return{top:t*e,height:t}},A=r("span",{target:"ebfc5084"})("color:",(function(e){return e.theme.text.grey[300]}),";position:absolute;top:18px;left:-18px;"),q=r("div",{target:"ebfc5083"})({name:"16adccg",styles:"height:100%;width:100%;display:grid;grid-template-columns:repeat(4, 1fr);align-items:end;padding-bottom:6px"}),V=r("div",{target:"ebfc5082"})("background:",(function(e){return e.theme.timeline.divider.bg}),";height:10px;width:1px;margin-right:",(function(e){return e.width/4}),"px;"),Y=r("div",{target:"ebfc5081"})("position:sticky;top:0;left:",(function(e){return e.isSidebar?e.sidebarWidth:0}),"px;z-index:100;display:flex;height:",60,"px;width:",(function(e){return e.dayWidth}),"px;background:",(function(e){return e.theme.primary[900]}),";"),X=r("div",{target:"ebfc5080"})("width:",(function(e){return e.width}),"px;font-size:14px;position:relative;&:first-of-type{",A,"{left:0px;}}"),N=r("div",{target:"ec9jzma0"})("position:absolute;top:64px;left:",(function(e){return e.left}),"px;height:",(function(e){return e.height}),"px;width:3px;background:",(function(e){return e.theme.green[300]}),";pointer-events:none;z-index:100;"),U=[0,50,0],_=r("div",{target:"ezp5axu1"})("position:absolute;top:0;left:0;bottom:0;width:100%;background:",(function(e){return e.theme.loader.bg}),";display:flex;justify-content:center;align-items:center;z-index:1000;"),G=r("div",{target:"ezp5axu0"})("width:",(function(e){return.42*e.width}),"px;background:",(function(e){return e.color}),";height:18px;border-radius:45px;margin-right:",(function(e){var t=e.marginRight;return null!=t?t:0}),"px;animation-name:",(function(e){return t=e.animate,n.keyframes(c||(c=d(["\n","\n"])),U.map((function(e,n){return e+"% {\n  transform: translateX(-"+t.right[n]+");\n}"})));var t}),";animation-duration:",(function(e){return e.transition.duration}),"s;animation-timing-function:",(function(e){var t;return null!=(t=e.transition.ease)?t:"ease-in-out"}),";animation-delay:",(function(e){var t;return null!=(t=e.transition.delay)?t:0}),"s;animation-iteration-count:infinite;"),J=p,K=b,Q=o.forwardRef((function(e,t){var n=e.channels,r=e.programs,i=e.startDate,a=e.endDate,s=e.scrollY,u=e.dayWidth,d=e.hourWidth,c=e.sidebarWidth,h=e.itemHeight,f=e.numberOfHoursInDay,m=e.offsetStartHoursRange,p=e.isSidebar,g=void 0===p||p,b=e.isTimeline,v=void 0===b||b,x=e.isLine,y=void 0===x||x,w=e.isBaseTimeFormat,k=void 0!==w&&w,D=e.onScroll,S=e.isProgramVisible,T=e.isChannelVisible,W=e.renderProgram,E=e.renderChannel,C=e.renderTimeline,z=n.length,R=o.useMemo((function(){return z*h}),[z,h]),L=H(new Date(a))>H(new Date);return o.createElement(J,{ref:t,onScroll:D},y&&L&&o.createElement(Ee,{dayWidth:u,hourWidth:d,sidebarWidth:c,startDate:i,endDate:a,height:R}),v&&function(){var e={dayWidth:u,sidebarWidth:c,isSidebar:g,numberOfHoursInDay:f},t={offsetStartHoursRange:m,numberOfHoursInDay:f,isBaseTimeFormat:k,hourWidth:d};return C?C(l({},t,e)):o.createElement(Te,Object.assign({},t,e))}(),g&&o.createElement(pe,{sidebarWidth:c,isTimeline:v,isChannelVisible:T,channels:n,scrollY:s,renderChannel:E}),o.createElement(K,{"data-testid":"content",sidebarWidth:c,isSidebar:g,width:u,height:R},r.map((function(e){return function(e){if(S(e.position)){var t=function(e){var t=e.position;return l({},e,{position:{width:t.width,height:t.height,top:t.top,left:t.left}})}(e);return W?W({program:t,isBaseTimeFormat:k}):o.createElement(fe,{key:e.data.id,isBaseTimeFormat:k,program:t})}return null}(e)}))))})),Z={primary:{600:"#1a202c",900:"#171923"},grey:{300:"#d1d1d1"},white:"#fff",green:{300:"#2C7A7B"},loader:{teal:"#5DDADB",purple:"#3437A2",pink:"#F78EB6",bg:"#171923db"},scrollbar:{border:"#ffffff",thumb:{bg:"#e1e1e1"}},gradient:{blue:{300:"#002eb3",600:"#002360",900:"#051937"}},text:{grey:{300:"#a0aec0",500:"#718096"}},timeline:{divider:{bg:"#718096"}}},$=["hourWidth","dayWidth"],ee=["containerRef","scrollBoxRef"],te=F(a.startOfToday());function ne(e,t){var n=R(),r=o.useRef(e);n((function(){r.current=e}),[e]),o.useEffect((function(){if(t||0===t){var e=setInterval((function(){return r.current()}),t);return function(){return clearInterval(e)}}}),[t])}function re(e){var t=e.program,n=e.isBaseTimeFormat,r=e.minWidth,i=void 0===r?200:r,s=t.data,u=t.position,d=u.width,c=s.since,h=s.till,f=o.useState((function(){return O(c,h)})),m=f[0],p=f[1],g=function(e){for(var t=l({},e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];delete t[s]}return t}(u,"egdeEnd");return ne((function(){var e=O(c,h);p(e)}),12e4),{formatTime:function(e,t){return void 0===t&&(t="HH:mm"),a.format(new Date(e),t).replace(/\s/g,"")},set12HoursTimeFormat:function(){return n?"h:mm a":"HH:mm"},isLive:m,isMinWidth:d>i,styles:{width:d,position:g}}}function ie(e,t){return{time:z(e),dividers:z(4),formatTime:function(e){var n=new Date,r=a.format(n,"yyyy-MM-dd"),i=e<10?"0"+e:e;if(t){var o=new Date(r+"T"+i+":00:00");return a.format(o,"h:mm a").toLowerCase().replace(/\s/g,"")}return i+":00"}}}var oe=["program","isBaseTimeFormat","onClick"],ae=w,se=k,le=D,ue=C,de=T,ce=W,he=E;function fe(e){var t=e.program,n=e.isBaseTimeFormat,r=e.onClick,o=u(e,oe),a=re({program:t,isBaseTimeFormat:n}),s=a.styles,l=a.formatTime,d=a.set12HoursTimeFormat,c=a.isLive,h=a.isMinWidth,f=t.data,m=f.image,p=f.title,g=f.since,b=f.till;return i.createElement(ae,{"data-testid":"program-item",width:s.width,style:s.position},i.createElement(se,Object.assign({"data-testid":"program-content",width:s.width,isLive:c,onClick:function(){return null==r?void 0:r(f)}},o),i.createElement(le,null,c&&h&&i.createElement(he,{src:m,alt:"Preview"}),i.createElement(ue,null,i.createElement(de,null,p),i.createElement(ce,{"aria-label":"program time"},l(g,d())," -"," ",l(b,d()))))))}var me=v;function pe(e){var t=e.renderChannel,n=e.isChannelVisible;return i.createElement(me,{"data-testid":"sidebar",width:e.sidebarWidth,isTimeline:e.isTimeline,bottom:e.scrollY},e.channels.map((function(e){return n(e.position)?t?t({channel:e}):i.createElement(xe,{key:e.uuid,channel:e}):null})))}var ge=["channel","onClick"],be=x,ve=y;function xe(e){var t=e.channel,n=e.onClick,r=u(e,ge),o=t.logo;return i.createElement(be,Object.assign({"data-testid":"sidebar-item",onClick:function(){return null==n?void 0:n(t)}},t.position,r),i.createElement(ve,{src:o,alt:"Logo"}))}var ye=Y,we=X,ke=A,De=q,Se=V;function Te(e){var t=e.isSidebar,n=e.dayWidth,r=e.hourWidth,o=e.offsetStartHoursRange,a=e.sidebarWidth,s=ie(e.numberOfHoursInDay,e.isBaseTimeFormat),l=s.dividers,u=s.formatTime;return i.createElement(ye,{"data-testid":"timeline",dayWidth:n,sidebarWidth:a,isSidebar:t},s.time.map((function(e,t){return function(e){return i.createElement(we,{"data-testid":"timeline-item",key:e,width:r},i.createElement(ke,null,u(e+o)),i.createElement(De,null,l.map((function(e,t){return i.createElement(Se,{key:t,width:r})}))))}(t)})))}var We=N;function Ee(e){var t=e.height,n=e.startDate,r=function(e){var t=e.startDate,n=e.endDate,r=e.dayWidth,i=e.hourWidth,s=e.sidebarWidth,l=M(a.startOfDay(new Date(t)),new Date,t,n,i)+s,u=o.useState((function(){return l})),d=u[0],c=u[1],h=d<=r;return ne((function(){var e=i/60*2;c((function(t){return t+e}))}),o.useMemo((function(){return h?12e4:null}),[h])),o.useEffect((function(){var e=new Date(t),r=M(a.startOfDay(e),new Date,t,n,i);c(r+s)}),[t,n,s,i]),{positionX:d}}({startDate:n,endDate:e.endDate,dayWidth:e.dayWidth,hourWidth:e.hourWidth,sidebarWidth:e.sidebarWidth}).positionX,s=new Date(n);return a.isToday(s)?i.createElement(We,{height:t,left:r}):null}var Ce=_,ze=G,Re=function(e){return i.createElement(ze,{className:"SHAPE",width:e.width,color:e.color,animate:e.animate,transition:e.transition,marginRight:e.marginRight})};function Le(){return i.createElement(Ce,{"aria-label":"loading"},i.createElement("div",null,i.createElement("div",{style:{display:"flex",justifyContent:"end",marginBottom:16}},i.createElement(Re,{animate:{right:["0px","75px","0px"]},transition:{duration:1},width:217,color:Z.loader.teal,marginRight:10}),i.createElement(Re,{width:122,color:Z.loader.purple,animate:{right:["0px","50px","0px"]},transition:{duration:1,delay:.02}})),i.createElement("div",{style:{display:"flex",justifyContent:"end",marginBottom:16}},i.createElement(Re,{width:267,color:Z.loader.pink,animate:{right:["0px","70px","0px"]},transition:{delay:.5,duration:1}})),i.createElement("div",{style:{display:"flex",justifyContent:"end"}},i.createElement(Re,{width:217,color:Z.loader.purple,marginRight:10,animate:{right:["0px","95px","0px"]},transition:{delay:.3,duration:1}}),i.createElement(Re,{width:80,color:Z.loader.teal,animate:{right:["0px","70px","0px"]},transition:{duration:1,delay:.33}}))))}var je=["children","width","height","theme","sidebarWidth","isSidebar","isTimeline","isLoading","loader"],He=f,Oe=m,Fe=g,Ie=o.forwardRef((function(e,t){var r=e.children,i=e.width,a=e.height,s=e.theme,l=e.sidebarWidth,d=e.isSidebar,c=void 0===d||d,f=e.isTimeline,m=void 0===f||f,p=e.isLoading,g=void 0!==p&&p,b=e.loader,v=u(e,je);return o.createElement(n.ThemeProvider,{theme:s},o.createElement(n.Global,{styles:h}),o.createElement(He,Object.assign({"data-testid":"container",width:i,height:a,ref:t},v),o.createElement(Oe,null,c&&m&&o.createElement(Fe,{width:l,height:60,left:0,top:0}),g&&(null!=b?b:o.createElement(Le,null)),r)))})),Be=y,Me=w,Pe=k,Ae=D,qe=C,Ve=T,Ye=W,Xe=E,Ne=Y,Ue=X,_e=A,Ge=V,Je=q;exports.ChannelBox=x,exports.ChannelLogo=Be,exports.Epg=Ie,exports.Layout=Q,exports.ProgramBox=Me,exports.ProgramContent=Pe,exports.ProgramFlex=Ae,exports.ProgramImage=Xe,exports.ProgramStack=qe,exports.ProgramText=Ye,exports.ProgramTitle=Ve,exports.TimelineBox=Ue,exports.TimelineDivider=Ge,exports.TimelineDividers=Je,exports.TimelineTime=_e,exports.TimelineWrapper=Ne,exports.useEpg=function(e){var t=e.channels,n=e.epg,r=e.startDate,i=e.endDate,d=e.isBaseTimeFormat,c=void 0!==d&&d,h=e.isSidebar,f=void 0===h||h,m=e.isTimeline,p=void 0===m||m,g=e.isLine,b=void 0===g||g,v=e.theme,x=e.dayWidth,y=void 0===x?7200:x,w=e.sidebarWidth,k=void 0===w?100:w,D=e.itemHeight,S=void 0===D?80:D,T=e.itemOverscan,W=void 0===T?80:T,E=e.width,C=e.height,z=function(e,t){var n=t;return""===t&&(n=F(a.startOfDay(a.addDays(new Date(e),1)))),{startDate:e,endDate:n}}(void 0===r?te:r,void 0===i?"":i),O=z.startDate,I=z.endDate,B=o.useMemo((function(){return function(e){var t=e.dayWidth,n=e.endDate,r=L(e.startDate),i=L(n);i<r&&console.error("Invalid endDate property. Value of endDate must be greater than startDate. Props: startDateTime: "+r+", endDateTime: "+i);var o=a.differenceInHours(r,a.startOfDay(r)),s=a.differenceInHours(i,r),l=Math.floor(t/s),u=l*s;return{hourWidth:j(l),dayWidth:j(u),numberOfHoursInDay:j(s),offsetStartHoursRange:j(o)}}({dayWidth:y,startDate:O,endDate:I})}),[y,O,I]),A=B.hourWidth,q=B.dayWidth,V=u(B,$),Y=function(e){var t=e.height,n=e.width,r=e.startDate,i=e.endDate,l=e.hourWidth,u=e.sidebarWidth,d=R(),c=o.useRef(null),h=o.useRef(null),f=o.useState(0),m=f[0],p=f[1],g=o.useState(0),b=g[0],v=g[1],x=o.useState(n),y=x[0],w=x[1],k=o.useState(t),D=k[0],S=k[1],T=a.isToday(new Date(r)),W=s.useDebouncedCallback((function(e){p(e.y),v(e.x)}),100,{maxWait:100}),E=o.useCallback((function(e){W({y:e.target.scrollTop,x:e.target.scrollLeft})}),[W]),C=o.useCallback((function(){if(null!=h&&h.current&&T){var e,t=null!=n?n:null==(e=c.current)?void 0:e.clientWidth,o=new Date,s=M(a.startOfToday(),o,r,i,l);h.current.scrollLeft=s-t/2+u}}),[T,r,i,n,u,l]),z=o.useCallback((function(e){void 0===e&&(e=l),null!=h&&h.current&&(h.current.scrollTop=h.current.scrollTop+e)}),[l]),L=o.useCallback((function(e){void 0===e&&(e=l),null!=h&&h.current&&(h.current.scrollLeft=h.current.scrollLeft+e)}),[l]),j=o.useCallback((function(e){void 0===e&&(e=l),null!=h&&h.current&&(h.current.scrollLeft=h.current.scrollLeft-e)}),[l]),H=s.useDebouncedCallback((function(){null!=c&&c.current&&!n&&w(c.current.clientWidth)}),400,{maxWait:400});return d((function(){if(null!=c&&c.current){var e=c.current;n||w(e.clientWidth),t||S(e.clientHeight)}null!=h&&h.current&&T&&C()}),[t,n,r,T,C]),d((function(){return window.addEventListener("resize",H),function(){window.removeEventListener("resize",H)}}),[n]),{containerRef:c,scrollBoxRef:h,scrollX:b,scrollY:m,layoutWidth:y,layoutHeight:D,onScroll:E,onScrollToNow:C,onScrollTop:z,onScrollLeft:j,onScrollRight:L}}({startDate:O,endDate:I,sidebarWidth:k,width:E,height:C,hourWidth:A}),X=Y.containerRef,N=Y.scrollBoxRef,U=u(Y,ee),_=U.scrollX,G=U.scrollY,J=U.layoutWidth,K=U.layoutHeight,Q=U.onScroll,ne=U.onScrollToNow,re=U.onScrollTop,ie=U.onScrollLeft,oe=U.onScrollRight,ae=o.useMemo((function(){return function(e,t){return e.map((function(e,n){return l({},e,{position:P(n,t)})}))}(t,S)}),[t,S]),se=F(O),le=F(I),ue=o.useMemo((function(){return function(e){var t=e.channels,n=e.startDate,r=e.endDate,i=e.itemHeight,o=e.hourWidth;return e.data.map((function(e){var a=t.findIndex((function(t){return t.uuid===e.channelUuid}));return function(e,t,n,r,i,o){var a=l({},e,{since:F(e.since),till:F(e.till)}),s=function(e,t){var n=H(new Date(e));return H(new Date(t))>n}(a.since,i),u=M(a.since,a.till,i,o,r),d=n*t,c=M(i,a.since,i,o,r);return s&&(c=0),d<0&&(u=0),{position:{width:u,height:n,top:d,left:c,edgeEnd:M(i,a.till,i,o,r)},data:a}}(e,a,i,o,n,r)}),[])}({data:n,channels:ae,startDate:se,endDate:le,itemHeight:S,hourWidth:A})}),[n,ae,se,le,S,A]),de=v||Z,ce=o.useCallback((function(e){return function(e,t,n,r,i,o){return!(e.width<=0)&&!(t>e.top+3*o)&&!(t+r<=e.top)&&n+i>=e.left&&n<=e.edgeEnd}(e,G,_,K,J,W)}),[G,_,K,J,W]),he=o.useCallback((function(e){return function(e,t,n,r){return!(t>e.top+3*r||t+n<=e.top)}(e,G,K,W)}),[G,K,W]);return{getEpgProps:function(){return{width:E,height:C,isSidebar:f,isLine:b,isTimeline:p,sidebarWidth:k,ref:X,theme:de}},getLayoutProps:function(){return l({programs:ue,channels:ae,startDate:O,endDate:I,scrollY:G,onScroll:Q,isBaseTimeFormat:c,isSidebar:f,isTimeline:p,isLine:b,isProgramVisible:ce,isChannelVisible:he,dayWidth:q,hourWidth:A,sidebarWidth:k,itemHeight:S},V,{ref:N})},onScrollToNow:ne,onScrollTop:re,onScrollLeft:ie,onScrollRight:oe,scrollY:G,scrollX:_}},exports.useProgram=re,exports.useTimeline=ie;
//# sourceMappingURL=planby.cjs.production.min.js.map
